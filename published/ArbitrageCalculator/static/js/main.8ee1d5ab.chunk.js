(this.webpackJsonparbcalc2=this.webpackJsonparbcalc2||[]).push([[0],{207:function(e,t,a){e.exports=a(498)},212:function(e,t,a){},214:function(e,t,a){},224:function(e,t){},247:function(e,t){},249:function(e,t){},292:function(e,t){},294:function(e,t){},323:function(e,t){},324:function(e,t){},367:function(e,t){},498:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a.n(n),c=a(206),l=a.n(c),o=(a(212),a(20)),u=a.n(o),s=a(64),i=a(98),m=(a(214),a(97)),f=a.n(m);var p=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(i.a)(l,2),m=o[0],p=o[1],h=["BANCOR","BUY-KYBER-EXCHANGE","BUY-UNISWAP-EXCHANGE"],E=["BANCOR","SELL-KYBER-EXCHANGE","SELL-UNISWAP-EXCHANGE"],b=null;function d(e){for(var t=-1/0,a=e.length,n=-1;a--;)e[a]>t&&(t=e[a],n=a);return{max:t,pos:n}}function g(e,t,a){return v.apply(this,arguments)}function v(){return(v=Object(s.a)(u.a.mark((function e(t,a,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("pair: ".concat(t,'  --  Exchanges:"').concat(n,'"')),r=n.map((function(e){return b.methods.getExchangeRate(t[0],t[1],e,a).call()})),e.abrupt("return",new Promise((function(e,c){Promise.all(r.map((function(e){return e.catch((function(e){return-1/0}))}))).then((function(r){console.log("Values: ".concat(r));var c=d(r.map(parseInt));e({fromSymbol:t[0],toSymbol:t[1],startValue:a,endValue:c.max.toString(),exchange:n[c.pos]})})).catch((function(e){return console.error("Promise.all: ".concat(e))}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t,a,n){return N.apply(this,arguments)}function N(){return(N=Object(s.a)(u.a.mark((function e(t,a,n,r){var c,l,o,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<2)){e.next=2;break}return e.abrupt("return");case 2:c=a,l=[],o=0;case 5:if(!(o<t.length)){e.next=16;break}return s=[t[o],t[(o+1)%t.length]],console.log("".concat(s)),e.next=10,g(s,c,n);case 10:i=e.sent,l.push(i),c=i.endValue;case 13:o++,e.next=5;break;case 16:return console.log(l),console.log("Net profit: ".concat(c-a)),e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"Arbitrage Calculator")),r.a.createElement("section",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"left"}),r.a.createElement("div",{className:"center"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=[e.target.elements.s1.value,e.target.elements.s2.value,e.target.elements.s3.value],a=e.target.elements.startValue.value.toString();console.log("Submit: ".concat(t)),function(e,t){var a=new f.a(f.a.givenProvider);fetch("OrFeed.abi").then((function(e){return e.json()})).then(function(){var n=Object(s.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:b=new a.eth.Contract(r,"0x8316B082621CFedAB95bf4a44a1d4B64a6ffc336"),w(e,t,h,E).then((function(e){var t=[];e.forEach((function(e){t.push("".concat(e.exchange," : ").concat(e.fromSymbol,":").concat(e.startValue,"->").concat(e.toSymbol,":").concat(e.endValue))})),p(t),c(e[e.length-1].endValue-e[0].startValue)})).catch(console.error);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch(console.error)}(t,a)}},r.a.createElement("ul",{className:"wrapper"},r.a.createElement("li",{className:"form-row"},r.a.createElement("label",{htmlFor:"s1"},"Symbol1"),r.a.createElement("input",{type:"text",id:"s1",name:"s1",defaultValue:"KNC",maxLength:"5"})),r.a.createElement("li",{className:"form-row"},r.a.createElement("label",{htmlFor:"s2"},"Symbol2"),r.a.createElement("input",{type:"text",id:"s2",name:"s2",defaultValue:"BAT",maxLength:"5"})),r.a.createElement("li",{className:"form-row"},r.a.createElement("label",{htmlFor:"s3"},"Symbol3"),r.a.createElement("input",{type:"text",id:"s3",name:"s3",defaultValue:"SAI",maxLength:"5"})),r.a.createElement("li",{className:"form-row"},r.a.createElement("label",{htmlFor:"amount"},"Initial amount"),r.a.createElement("input",{type:"number",id:"amount",name:"startValue",defaultValue:"100000000000000000000"})),r.a.createElement("li",{className:"form-row"},r.a.createElement("input",{type:"submit",value:"Calculate"})))),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("p",null,"The optimal arbitrage profit: ",a),r.a.createElement("ol",null,m.map((function(e,t){return r.a.createElement("li",{key:t},e)})))),r.a.createElement("div",{className:"right"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[207,1,2]]]);
//# sourceMappingURL=main.8ee1d5ab.chunk.js.map